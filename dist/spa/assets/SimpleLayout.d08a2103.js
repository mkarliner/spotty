import{c as Q,h as se,a as Le,b as st,d as ut}from"./render.33bbd065.js";import{g as d,l as y,i as ue,r as q,m as N,o as K,n as Oe,q as ct,s as dt,u as ft,v as vt,x as H,w as P,y as pe,z as O,A as ie,B as ye,C as ht,D as bt,p as _e,F as ce,G as gt,h as te,a as mt,_ as De,c as le,d as wt,H as yt,I as me,J as I,K as E,L as Tt,M as Lt,N as pt,O as _t,P as We,Q as ke}from"./index.7f738375.js";import{R as Ct,Q as j,u as qt,a as xt,b as St,c as Rt,d as Be,g as $t}from"./Ripple.b8855162.js";import{u as Ke}from"./settings.5c5bf365.js";import{u as zt}from"./mqtt-vue-hook.es.f3d9172b.js";var Ae=Q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const a=d(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>y("div",{class:a.value},se(n.default))}}),Ee=Q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const a=d(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:a.value},se(n.default))}});let Mt=0;const Pt=["click","keydown"],kt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Mt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Bt(e,n,a,o){const t=ue(Oe,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:i}=H(),c=q(null),g=q(null),f=q(null),v=d(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),T=d(()=>t.currentModel.value===e.name),_=d(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(T.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0&&o.linkClass.value!==""?` ${o.linkClass.value}`:"")),R=d(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),m=d(()=>e.disable===!0||t.hasFocus.value===!0?-1:e.tabindex||0);function z(h,u){if(u!==!0&&c.value!==null&&c.value.focus(),e.disable!==!0){let l;if(o!==void 0)if(o.hasRouterLink.value===!0)l=()=>{h.__qNavigate=!0,t.avoidRouteWatcher=!0;const w=o.navigateToRouterLink(h);w===!1?t.avoidRouteWatcher=!1:w.then(A=>{t.avoidRouteWatcher=!1,A===void 0&&t.updateModel({name:e.name,fromRoute:!0})})};else{a("click",h);return}else l=()=>{t.updateModel({name:e.name,fromRoute:!1})};a("click",h,l),h.defaultPrevented!==!0&&l()}}function M(h){dt(h,[13,32])?z(h,!0):ft(h)!==!0&&h.keyCode>=35&&h.keyCode<=40&&h.altKey!==!0&&h.metaKey!==!0&&t.onKbdNavigate(h.keyCode,i.$el)===!0&&vt(h),a("keydown",h)}function k(){const h=t.tabProps.value.narrowIndicator,u=[],l=y("div",{ref:f,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&u.push(y(j,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&u.push(y("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&u.push(e.alertIcon!==void 0?y(j,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):y("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),h===!0&&u.push(l);const w=[y("div",{class:"q-focus-helper",tabindex:-1,ref:c}),y("div",{class:R.value},Le(n.default,u))];return h===!1&&w.push(l),w}const B={name:d(()=>e.name),rootRef:g,tabIndicatorRef:f,routerProps:o};N(()=>{t.unregisterTab(B),t.recalculateScroll()}),K(()=>{t.registerTab(B),t.recalculateScroll()});function s(h,u){const l={ref:g,class:_.value,tabindex:m.value,role:"tab","aria-selected":T.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:z,onKeydown:M,...u};return ct(y(h,l,k()),[[Ct,v.value]])}return{renderTab:s,$tabs:t}}var Ie=Q({name:"QRouteTab",props:{...qt,...kt},emits:Pt,setup(e,{slots:n,emit:a}){const o=xt(),{renderTab:t,$tabs:i}=Bt(e,n,a,{exact:d(()=>e.exact),...o});return P(()=>e.name+e.exact+(o.linkRoute.value||{}).href,()=>{i.verifyRouteModel()}),()=>t(o.linkTag.value,o.linkProps.value)}});function At(){const e=q(!pe.value);return e.value===!1&&K(()=>{e.value=!0}),e}const je=typeof ResizeObserver!="undefined",Qe=je===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var U=Q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:n}){let a=null,o,t={width:-1,height:-1};function i(f){f===!0||e.debounce===0||e.debounce==="0"?c():a===null&&(a=setTimeout(c,e.debounce))}function c(){if(clearTimeout(a),a=null,o){const{offsetWidth:f,offsetHeight:v}=o;(f!==t.width||v!==t.height)&&(t={width:f,height:v},n("resize",t))}}const g=H();if(Object.assign(g.proxy,{trigger:i}),je===!0){let f;return K(()=>{O(()=>{o=g.proxy.$el.parentNode,o&&(f=new ResizeObserver(i),f.observe(o),c())})}),N(()=>{clearTimeout(a),f!==void 0&&(f.disconnect!==void 0?f.disconnect():o&&f.unobserve(o))}),ie}else{let T=function(){clearTimeout(a),v!==void 0&&(v.removeEventListener!==void 0&&v.removeEventListener("resize",i,ye.passive),v=void 0)},_=function(){T(),o&&o.contentDocument&&(v=o.contentDocument.defaultView,v.addEventListener("resize",i,ye.passive),c())};const f=At();let v;return K(()=>{O(()=>{o=g.proxy.$el,o&&_()})}),N(T),()=>{if(f.value===!0)return y("object",{style:Qe.style,tabindex:-1,type:"text/html",data:Qe.url,"aria-hidden":"true",onLoad:_})}}}});function Et(){let e;return N(()=>{e=void 0}),{registerTick(n){e=n,O(()=>{e===n&&(e(),e=void 0)})},removeTick(){e=void 0}}}function Ve(){let e;return N(()=>{clearTimeout(e)}),{registerTimeout(n,a){clearTimeout(e),e=setTimeout(n,a)},removeTimeout(){clearTimeout(e)}}}let Ue=!1;{const e=document.createElement("div"),n=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",n.style.width="1000px",n.style.height="1px",document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,Ue=e.scrollLeft>=0,e.remove()}function It(e,n,a){const o=a===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Qt=["left","center","right","justify"],Ne=()=>{};var Vt=Q({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Qt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:n,emit:a}){const o=H(),{proxy:{$q:t}}=o,{registerTick:i}=Et(),{registerTimeout:c,removeTimeout:g}=Ve(),{registerTimeout:f}=Ve(),v=q(null),T=q(null),_=q(e.modelValue),R=q(!1),m=q(!0),z=q(!1),M=q(!1),k=d(()=>t.platform.is.desktop===!0||e.mobileArrows===!0),B=[],s=q(!1);let h=!1,u,l,w,A=k.value===!0?qe:ie;const D=d(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:It(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),X=d(()=>`q-tabs__content--align-${R.value===!0?"left":M.value===!0?"justify":e.align}`),Ye=d(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${k.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ze=d(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+X.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(t.platform.is.mobile===!0?" scroll":"")),J=d(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),G=d(()=>e.vertical!==!0&&t.lang.rtl===!0),de=d(()=>Ue===!1&&G.value===!0);P(G,A),P(()=>e.modelValue,r=>{fe({name:r,setCurrent:!0,skipEmit:!0})}),P(()=>e.outsideArrows,()=>{O(Y())}),P(k,r=>{A=r===!0?qe:ie,O(Y())});function fe({name:r,setCurrent:b,skipEmit:L,fromRoute:x}){_.value!==r&&(L!==!0&&a("update:modelValue",r),(b===!0||e["onUpdate:modelValue"]===void 0)&&(et(_.value,r),_.value=r)),x!==void 0&&(h=x)}function Y(){i(()=>{o.isDeactivated!==!0&&o.isUnmounted!==!0&&Ce({width:v.value.offsetWidth,height:v.value.offsetHeight})})}function Ce(r){if(J.value===void 0||T.value===null)return;const b=r[J.value.container],L=Math.min(T.value[J.value.scroll],Array.prototype.reduce.call(T.value.children,(p,S)=>p+(S[J.value.content]||0),0)),x=b>0&&L>b;R.value!==x&&(R.value=x),x===!0&&O(A);const $=b<parseInt(e.breakpoint,10);M.value!==$&&(M.value=$)}function et(r,b){const L=r!=null&&r!==""?B.find($=>$.name.value===r):null,x=b!=null&&b!==""?B.find($=>$.name.value===b):null;if(L&&x){const $=L.tabIndicatorRef.value,p=x.tabIndicatorRef.value;clearTimeout(u),$.style.transition="none",$.style.transform="none",p.style.transition="none",p.style.transform="none";const S=$.getBoundingClientRect(),C=p.getBoundingClientRect();p.style.transform=e.vertical===!0?`translate3d(0,${S.top-C.top}px,0) scale3d(1,${C.height?S.height/C.height:1},1)`:`translate3d(${S.left-C.left}px,0,0) scale3d(${C.width?S.width/C.width:1},1,1)`,O(()=>{u=setTimeout(()=>{p.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",p.style.transform="none"},70)})}x&&R.value===!0&&Z(x.rootRef.value)}function Z(r){const{left:b,width:L,top:x,height:$}=T.value.getBoundingClientRect(),p=r.getBoundingClientRect();let S=e.vertical===!0?p.top-x:p.left-b;if(S<0){T.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(S),A();return}S+=e.vertical===!0?p.height-$:p.width-L,S>0&&(T.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(S),A())}function qe(){const r=T.value;if(r!==null){const b=r.getBoundingClientRect(),L=e.vertical===!0?r.scrollTop:Math.abs(r.scrollLeft);G.value===!0?(m.value=Math.ceil(L+b.width)<r.scrollWidth-1,z.value=L>0):(m.value=L>0,z.value=e.vertical===!0?Math.ceil(L+b.height)<r.scrollHeight:Math.ceil(L+b.width)<r.scrollWidth)}}function xe(r){F(),$e(r),l=setInterval(()=>{$e(r)===!0&&F()},5)}function Se(){xe(de.value===!0?Number.MAX_SAFE_INTEGER:0)}function Re(){xe(de.value===!0?0:Number.MAX_SAFE_INTEGER)}function F(){clearInterval(l)}function tt(r,b){const L=Array.prototype.filter.call(T.value.children,C=>C===b||C.matches&&C.matches(".q-tab.q-focusable")===!0),x=L.length;if(x===0)return;if(r===36)return Z(L[0]),!0;if(r===35)return Z(L[x-1]),!0;const $=r===(e.vertical===!0?38:37),p=r===(e.vertical===!0?40:39),S=$===!0?-1:p===!0?1:void 0;if(S!==void 0){const C=G.value===!0?-1:1,V=L.indexOf(b)+S*C;return V>=0&&V<x&&(Z(L[V]),L[V].focus({preventScroll:!0})),!0}}const ot=d(()=>de.value===!0?{get:r=>Math.abs(r.scrollLeft),set:(r,b)=>{r.scrollLeft=-b}}:e.vertical===!0?{get:r=>r.scrollTop,set:(r,b)=>{r.scrollTop=b}}:{get:r=>r.scrollLeft,set:(r,b)=>{r.scrollLeft=b}});function $e(r){const b=T.value,{get:L,set:x}=ot.value;let $=!1,p=L(b);const S=r<p?-1:1;return p+=S*5,p<0?($=!0,p=0):(S===-1&&p<=r||S===1&&p>=r)&&($=!0,p=r),x(b,p),A(),$}function ve(){return B.filter(r=>r.routerProps!==void 0&&r.routerProps.hasRouterLink.value===!0)}function nt(){let r=null,b=h;const L={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:x}=o.proxy.$route,$=_.value;let p=b===!0?Ne:C=>{$===C.name.value&&(b=!0,p=Ne)};const S=ve();for(const C of S){const V=C.routerProps.exact.value===!0;if(C.routerProps[V===!0?"linkIsExactActive":"linkIsActive"].value!==!0||L.exact===!0&&V!==!0){p(C);continue}const he=C.routerProps.linkRoute.value,be=he.hash;if(V===!0){if(x===be){r=C.name.value;break}else if(x!==""&&be!==""){p(C);continue}}const ge=he.matched.length,Pe=he.href.length-be.length;if(ge===L.matchedLen?Pe>L.hrefLen:ge>L.matchedLen){r=C.name.value,Object.assign(L,{matchedLen:ge,hrefLen:Pe,exact:V});continue}p(C)}(b===!0||r!==null)&&fe({name:r,setCurrent:!0,fromRoute:!0})}function at(r){if(g(),s.value!==!0&&v.value!==null&&r.target&&typeof r.target.closest=="function"){const b=r.target.closest(".q-tab");b&&v.value.contains(b)===!0&&(s.value=!0)}}function rt(){c(()=>{s.value=!1},30)}function ee(){ze.avoidRouteWatcher!==!0&&f(nt)}function lt(r){B.push(r),ve().length>0&&(w===void 0&&(w=P(()=>o.proxy.$route,ee)),ee())}function it(r){B.splice(B.indexOf(r),1),w!==void 0&&(ve().length===0&&(w(),w=void 0),ee())}const ze={currentModel:_,tabProps:D,hasFocus:s,registerTab:lt,unregisterTab:it,verifyRouteModel:ee,updateModel:fe,recalculateScroll:Y,onKbdNavigate:tt,avoidRouteWatcher:!1};_e(Oe,ze),N(()=>{clearTimeout(u),w!==void 0&&w()});let Me=!1;return ht(()=>{Me=!0}),bt(()=>{Me===!0&&Y()}),()=>{const r=[y(U,{onResize:Ce}),y("div",{ref:T,class:Ze.value,onScroll:A},se(n.default))];return k.value===!0&&r.push(y(j,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(m.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:Se,onTouchstartPassive:Se,onMouseup:F,onMouseleave:F,onTouchend:F}),y(j,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:Re,onTouchstartPassive:Re,onMouseup:F,onMouseleave:F,onTouchend:F})),y("div",{ref:v,class:Ye.value,role:"tablist",onFocusin:at,onFocusout:rt},r)}}}),Nt=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:a}){const{proxy:{$q:o}}=H(),t=ue(ce,()=>{console.error("QHeader needs to be child of QLayout")}),i=q(parseInt(e.heightHint,10)),c=q(!0),g=d(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||o.platform.is.ios&&t.isContainer.value===!0),f=d(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return c.value===!0?i.value:0;const s=i.value-t.scroll.value.position;return s>0?s:0}),v=d(()=>e.modelValue!==!0||g.value===!0&&c.value!==!0),T=d(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),_=d(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),R=d(()=>{const s=t.rows.value.top,h={};return s[0]==="l"&&t.left.space===!0&&(h[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),s[2]==="r"&&t.right.space===!0&&(h[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),h});function m(s,h){t.update("header",s,h)}function z(s,h){s.value!==h&&(s.value=h)}function M({height:s}){z(i,s),m("size",s)}function k(s){T.value===!0&&z(c,!0),a("focusin",s)}P(()=>e.modelValue,s=>{m("space",s),z(c,!0),t.animate()}),P(f,s=>{m("offset",s)}),P(()=>e.reveal,s=>{s===!1&&z(c,e.modelValue)}),P(c,s=>{t.animate(),a("reveal",s)}),P(t.scroll,s=>{e.reveal===!0&&z(c,s.direction==="up"||s.position<=e.revealOffset||s.position-s.inflectionPoint<100)});const B={};return t.instances.header=B,e.modelValue===!0&&m("size",i.value),m("space",e.modelValue),m("offset",f.value),N(()=>{t.instances.header===B&&(t.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const s=st(n.default,[]);return e.elevated===!0&&s.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(y(U,{debounce:0,onResize:M})),y("header",{class:_.value,style:R.value,onFocusin:k},s)}}}),Ft=Q({name:"QPageContainer",setup(e,{slots:n}){const{proxy:{$q:a}}=H(),o=ue(ce,()=>{console.error("QPageContainer needs to be child of QLayout")});_e(gt,!0);const t=d(()=>{const i={};return o.header.space===!0&&(i.paddingTop=`${o.header.size}px`),o.right.space===!0&&(i[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(i.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(i[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),i});return()=>y("div",{class:"q-page-container",style:t.value},se(n.default))}}),Ht=Q({name:"QAvatar",props:{...St,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const a=Rt(e),o=d(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=d(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const i=e.icon!==void 0?[y(j,{name:e.icon})]:void 0;return y("div",{class:o.value,style:a.value},[y("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},ut(n.default,i))])}}}),Ot=Q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:a}){const{proxy:{$q:o}}=H(),t=ue(ce,()=>{console.error("QFooter needs to be child of QLayout")}),i=q(parseInt(e.heightHint,10)),c=q(!0),g=q(pe.value===!0||t.isContainer.value===!0?0:window.innerHeight),f=d(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||o.platform.is.ios&&t.isContainer.value===!0),v=d(()=>t.isContainer.value===!0?t.containerHeight.value:g.value),T=d(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return c.value===!0?i.value:0;const l=t.scroll.value.position+v.value+i.value-t.height.value;return l>0?l:0}),_=d(()=>e.modelValue!==!0||f.value===!0&&c.value!==!0),R=d(()=>e.modelValue===!0&&_.value===!0&&e.reveal===!0),m=d(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(_.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),z=d(()=>{const l=t.rows.value.bottom,w={};return l[0]==="l"&&t.left.space===!0&&(w[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(w[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),w});function M(l,w){t.update("footer",l,w)}function k(l,w){l.value!==w&&(l.value=w)}function B({height:l}){k(i,l),M("size",l)}function s(){if(e.reveal!==!0)return;const{direction:l,position:w,inflectionPoint:A}=t.scroll.value;k(c,l==="up"||w-A<100||t.height.value-v.value-w-i.value<300)}function h(l){R.value===!0&&k(c,!0),a("focusin",l)}P(()=>e.modelValue,l=>{M("space",l),k(c,!0),t.animate()}),P(T,l=>{M("offset",l)}),P(()=>e.reveal,l=>{l===!1&&k(c,e.modelValue)}),P(c,l=>{t.animate(),a("reveal",l)}),P([i,t.scroll,t.height],s),P(()=>o.screen.height,l=>{t.isContainer.value!==!0&&k(g,l)});const u={};return t.instances.footer=u,e.modelValue===!0&&M("size",i.value),M("space",e.modelValue),M("offset",T.value),N(()=>{t.instances.footer===u&&(t.instances.footer=void 0,M("size",0),M("offset",0),M("space",!1))}),()=>{const l=Le(n.default,[y(U,{debounce:0,onResize:B})]);return e.elevated===!0&&l.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y("footer",{class:m.value,style:z.value,onFocusin:h},l)}}});const Dt=[null,document,document.body,document.scrollingElement,document.documentElement];function Wt(e,n){let a=$t(n);if(a===void 0){if(e==null)return window;a=e.closest(".scroll,.scroll-y,.overflow-auto")}return Dt.includes(a)?window:a}function Kt(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function jt(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let oe;function we(){if(oe!==void 0)return oe;const e=document.createElement("p"),n=document.createElement("div");Be(e,{width:"100%",height:"200px"}),Be(n,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(e),document.body.appendChild(n);const a=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;return a===o&&(o=n.clientWidth),n.remove(),oe=a-o,oe}const{passive:Fe}=ye,Ut=["both","horizontal","vertical"];var Xt=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Ut.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:n}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,i;P(()=>e.scrollTarget,()=>{f(),g()});function c(){o!==null&&o();const _=Math.max(0,Kt(t)),R=jt(t),m={top:_-a.position.top,left:R-a.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const z=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";a.position={top:_,left:R},a.directionChanged=a.direction!==z,a.delta=m,a.directionChanged===!0&&(a.direction=z,a.inflectionPoint=a.position),n("scroll",{...a})}function g(){t=Wt(i,e.scrollTarget),t.addEventListener("scroll",v,Fe),v(!0)}function f(){t!==void 0&&(t.removeEventListener("scroll",v,Fe),t=void 0)}function v(_){if(_===!0||e.debounce===0||e.debounce==="0")c();else if(o===null){const[R,m]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];o=()=>{m(R),o=null}}}const T=H();return K(()=>{i=T.proxy.$el.parentNode,g()}),N(()=>{o!==null&&o(),f()}),Object.assign(T.proxy,{trigger:v,getPosition:()=>a}),ie}}),Jt=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:n,emit:a}){const{proxy:{$q:o}}=H(),t=q(null),i=q(o.screen.height),c=q(e.container===!0?0:o.screen.width),g=q({position:0,direction:"down",inflectionPoint:0}),f=q(0),v=q(pe.value===!0?0:we()),T=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),_=d(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),R=d(()=>v.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),m=d(()=>v.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function z(u){if(e.container===!0||document.qScrollPrevented!==!0){const l={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};g.value=l,e.onScroll!==void 0&&a("scroll",l)}}function M(u){const{height:l,width:w}=u;let A=!1;i.value!==l&&(A=!0,i.value=l,e.onScrollHeight!==void 0&&a("scroll-height",l),B()),c.value!==w&&(A=!0,c.value=w),A===!0&&e.onResize!==void 0&&a("resize",u)}function k({height:u}){f.value!==u&&(f.value=u,B())}function B(){if(e.container===!0){const u=i.value>f.value?we():0;v.value!==u&&(v.value=u)}}let s;const h={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:t,height:i,containerHeight:f,scrollbarWidth:v,totalWidth:d(()=>c.value+v.value),rows:d(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:te({size:0,offset:0,space:!1}),right:te({size:300,offset:0,space:!1}),footer:te({size:0,offset:0,space:!1}),left:te({size:300,offset:0,space:!1}),scroll:g,animate(){s!==void 0?clearTimeout(s):document.body.classList.add("q-body--layout-animate"),s=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),s=void 0},155)},update(u,l,w){h[u][l]=w}};if(_e(ce,h),we()>0){let w=function(){u=null,l.classList.remove("hide-scrollbar")},A=function(){if(u===null){if(l.scrollHeight>o.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(u);u=setTimeout(w,300)},D=function(X){u!==null&&X==="remove"&&(clearTimeout(u),w()),window[`${X}EventListener`]("resize",A)},u=null;const l=document.body;P(()=>e.container!==!0?"add":"remove",D),e.container!==!0&&D("add"),mt(()=>{D("remove")})}return()=>{const u=Le(n.default,[y(Xt,{onScroll:z}),y(U,{onResize:M})]),l=y("div",{class:T.value,style:_.value,ref:e.container===!0?void 0:t,tabindex:-1},u);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:t},[y(U,{onResize:k}),y("div",{class:"absolute-full",style:R.value},[y("div",{class:"scroll",style:m.value},[l])])]):l}}}),Xe=65,Je=function(n){return n.match(/^[A-Ra-r][A-Ra-r]\d\d[A-Xa-x][A-Xa-x]/)!==null},ne=function(n){return n.toUpperCase().charCodeAt(0)-Xe},ae=function(n){return String.fromCharCode(n+Xe)},Te=function(n){if(n+="ll",!Je(n))throw new Error("Input is not valid locator string");var a=ne(n[0])*20,o=ne(n[1])*10,t=Number.parseInt(n[2])*2,i=Number.parseInt(n[3]),c=(ne(n[4])+.5)/12,g=(ne(n[5])+.5)/24;return[o+i+g-90,a+t+c-180]},re=function(n){return n%360*Math.PI/180},Gt=function(n){return n/Math.PI*180%360},Ge=function(n,a){var o=Te(n),t=Te(a),i=re(t[0]-o[0]),c=re(t[1]-o[1]),g=re(o[0]),f=re(t[0]),v=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(g)*Math.cos(f),T=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),_=c*Math.cos(g)*Math.cos(f),R=Math.sin(f)-Math.sin(g)*Math.cos(T),m=Math.atan2(_,R);return m<0&&(m+=2*Math.PI),{km:T*6371,deg:Gt(m)}},Yt=function(n,a){return Ge(n,a).km},Zt=function(n,a){return n>=-90&&n<=90&&a>=-180&&a<=180},eo=function(n,a){if(!Zt(n,a))throw new Error("Input is not a valid coordinate");var o=a+180,t=n+90,i=ae(Math.floor(o/20)),c=ae(Math.floor(t/10)),g=Math.floor(o%20/2),f=Math.floor(t%10),v=ae(Math.floor(o%20%2*12)).toLowerCase(),T=ae((t%10-f)*24).toLowerCase();return i+c+g+f+v+T},He={isValidLocatorString:Je,locatorToLatLng:Te,distance:Yt,bearingDistance:Ge,latLngToLocator:eo};const W=zt(),to={setup(){console.log("MQTT active");const e=Ke(),n=d(()=>e.topic);return{store:e,topic:n}},mounted(){this.store.$subscribe((e,n)=>{}),console.log(this.store.topic),W.subscribe([this.store.topic]),W.registerEvent(this.store.topic,(e,n)=>{const a=JSON.parse(n.toString());console.log(a,e);const[o,t]=He.locatorToLatLng(a.receiverLocator),i=[t,o];this.store.report_points.hasOwnProperty(a.seqenceNumber)?console.log("ALERT, Duplicate"):(this.store.report_points[a.sequenceNumber]={sequenceNumber:a.sequenceNumber,band:a.band,coordinate:i},setTimeout(()=>{delete this.store.report_points[a.sequenceNumber]},15e3))})},watch:{topic(e,n){console.log("TT ",e,n),W.unSubscribe(n),W.subscribe(e),W.registerEvent(this.store.topic,(a,o)=>{const t=JSON.parse(o.toString());console.log(t,a);const[i,c]=He.locatorToLatLng(t.receiverLocator),g=[c,i];this.store.report_points.hasOwnProperty(t.seqenceNumber)?console.log("ALERT, Duplicate"):(this.store.report_points[t.sequenceNumber]={sequenceNumber:t.sequenceNumber,band:t.band,coordinate:g},setTimeout(()=>{delete this.store.report_points[t.sequenceNumber]},15e3))})}}};function oo(e,n,a,o,t,i){return le(),wt("div")}var no=De(to,[["render",oo]]);const ao=yt({setup(){const e=Ke();return d(()=>e.topic),{store:e}},components:{MQTT:no}}),ro=We("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),lo=We("div",null,"Title",-1);function io(e,n,a,o,t,i){const c=ke("MQTT"),g=ke("router-view");return le(),me(Jt,{view:"hHh lpR fFf"},{default:I(()=>[E(c),E(Nt,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:I(()=>[E(Ee,null,{default:I(()=>[E(Ae,null,{default:I(()=>[Tt(" Live spots from pskreporter.info "+Lt(e.store.topic),1)]),_:1})]),_:1}),E(Vt,{align:"left"},{default:I(()=>[E(Ie,{to:"/settings",label:"Settings"}),E(Ie,{to:"/map",label:"Map"})]),_:1})]),_:1}),E(Ft,null,{default:I(()=>[E(g,null,{default:I(({Component:f})=>[(le(),me(pt,null,[(le(),me(_t(f)))],1024))]),_:1})]),_:1}),E(Ot,{elevated:"",class:"bg-grey-8 text-white"},{default:I(()=>[E(Ee,null,{default:I(()=>[E(Ae,null,{default:I(()=>[E(Ht,null,{default:I(()=>[ro]),_:1}),lo]),_:1})]),_:1})]),_:1})]),_:1})}var ho=De(ao,[["render",io]]);export{ho as default};
